{"version":3,"file":"static/js/814.6740137d.chunk.js","mappings":"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","sources":["redux/API.js","redux/advertActions.js","webpack://rent-a-car/./src/components/CardProduct/CardProduct.module.css?e456","components/CardProduct/CardProduct.js","webpack://rent-a-car/./src/components/ItemProduct/ItemProduct.module.css?4394","redux/advertSelectors.js","hooks/useAdvert.js","webpack://rent-a-car/./src/components/Button/BtnLoadMore.module.css?d247","components/Button/BtnLoadMore.js","components/ItemProduct/ItemProduct.jsx","page/CatalogPage/CatalogPage.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://6566535deb8bb4b70ef32d21.mockapi.io/Advert';\n\nexport const fetchAdvertsApi = async (page = 1, pageSize = 12) => {\n  const response = await axios.get(`?page=${page}&limit=${pageSize}`);\n  return response;\n};\n","import axios from 'axios';\nimport {\n  GET_ADVERTS_PENDING,\n  GET_ADVERTS_SUCCESS,\n  GET_ADVERTS_FAIL,\n} from './advertTypes';\nimport { fetchAdvertsApi } from './API';\n\naxios.defaults.baseURL = 'https://6566535deb8bb4b70ef32d21.mockapi.io/Advert';\n\n\n\nexport const getAdvertsPending = () => ({\n  type: GET_ADVERTS_PENDING,\n});\n\nexport const getAdvertsSuccess = adverts => ({\n  type: GET_ADVERTS_SUCCESS,\n  payload: adverts,\n});\n\nexport const getAdvertsFail = error => ({\n  type: GET_ADVERTS_FAIL,\n  payload: error,\n});\n\nexport const fetchAdverts = (page = 1, pageSize = 12) => {\n  return async (dispatch) => {\n    dispatch(getAdvertsPending());\n    try {\n      const response = await fetchAdvertsApi(page, pageSize);\n      \n\n      dispatch(\n        getAdvertsSuccess(response.data)\n      );\n      // const currentAdverts = getState().adverts;\n      // console.log('currentAdverts: ', currentAdverts);\n      // const uniqueAdverts = getUniqueAdverts(currentAdverts, response.data);\n      // console.log('uniqueAdverts: ', uniqueAdverts);\n\n      // dispatch(getAdvertsSuccess(response.data));\n\n      return response.data.length;\n    } catch (error) {\n      dispatch(getAdvertsFail(error));\n    }\n  };\n};\n\n\n\n// function getUniqueAdverts(oldAdverts, newAdverts) {\n//   // Объединить старые и новые объявления\n//   const allAdverts = [...oldAdverts, ...newAdverts];\n\n//   // Удалить дубликаты\n//   const uniqueAdverts = Array.from(new Set(allAdverts.map(a => a.id))).map(\n//     id => {\n//       return allAdverts.find(a => a.id === id);\n//     }\n//   );\n\n//   return uniqueAdverts;\n// }\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"CardProduct_card__QSxjP\",\"img\":\"CardProduct_img__-7KNF\",\"title_wrap\":\"CardProduct_title_wrap__5A2hu\",\"title\":\"CardProduct_title__PVIzu\",\"title_accent\":\"CardProduct_title_accent__0oVph\",\"wrap_text\":\"CardProduct_wrap_text__s3ZF2\",\"text\":\"CardProduct_text__pdQsR\",\"premium\":\"CardProduct_premium__gH7Wy\",\"btn\":\"CardProduct_btn__hyagx\"};","import React from 'react';\nimport css from './CardProduct.module.css';\nimport imgDef from 'images/auto.jpg';\nfunction truncateString(str, maxLength, maxWords) {\n  const words = str.split(' ');\n  let truncated = '';\n\n  for (let i = 0; i < maxWords && i < words.length; i++) {\n    truncated += words[i] + ' ';\n  }\n\n  return truncated.trim().substring(0, maxLength);\n}\n\nfunction formatMileage(mileage) {\n  return mileage\n    .toString()\n    .split('')\n    .reverse()\n    .join('')\n    .replace(/(\\d{3})/g, '$1,')\n    .split('')\n    .reverse()\n    .join('');\n}\n\nfunction formatAddressFunc(address) {\n  return address.split(', ');\n}\n\nfunction CardProduct({ advert }) {\n  const {\n    img,\n    make,\n    model,\n    year,\n    type,\n\n    functionalities,\n    rentalPrice,\n    rentalCompany,\n    address,\n\n    mileage,\n  } = advert;\n\n  const formatAddress = formatAddressFunc(address);\n  const totalLength =\n    formatAddress[1].length + formatAddress[2].length + rentalCompany.length;\n\n  return (\n    <li className={css.card}>\n      <img className={css.img} src={img || imgDef} alt={make} loading=\"lazy\" />\n      <div className={css.title_wrap}>\n        <h2 className={css.title}>\n          {make} <span className={css.title_accent}>{model}</span>, {year}\n        </h2>\n        <p className={css.title}>{rentalPrice}</p>\n      </div>\n      <div className={css.wrap_text}>\n        <p className={css.text}>{formatAddress[1]}</p>\n        <p className={css.text}>{formatAddress[2]}</p>\n        <p className={css.text}>{rentalCompany}</p>\n        {totalLength < 38 && <p className={css.text}>Premium</p>}\n        <br />\n        <p className={css.text}>{type}</p>\n        <p className={css.text}>{model}</p>\n        <p className={css.text}>{formatMileage(mileage)}</p>\n        {functionalities.length > 0 && (\n          <p className={css.text}>\n            {truncateString(functionalities[0], 30, 3)}\n          </p>\n        )}\n      </div>\n      <button className={css.btn}>Learn more</button>\n    </li>\n  );\n}\n\nexport default CardProduct;\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"ItemProduct_item__QvDv9\"};","export const selectAdverts = state => state.adverts;\nexport const selectIsLoading = state => state.isLoading;\nexport const selectStatus = state => state.status;\nexport const selectError = state => state.error;","import { useSelector } from 'react-redux';\nimport { selectAdverts, selectError, selectIsLoading, selectStatus } from 'redux/advertSelectors';\n\n\nconst useAdvert = () => {\n  const adverts = useSelector(selectAdverts);\n  const isLoading = useSelector(selectIsLoading);\n  const status = useSelector(selectStatus);\n  const error = useSelector(selectError);\n  return {\n    adverts,\n    isLoading,\n    status,\n    error,\n  };\n};\n\nexport default useAdvert;\n","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"BtnLoadMore_btn__BxnbQ\"};","import css from './BtnLoadMore.module.css'\n\nfunction BtnLoadMore({loadMore}) {\n  return (\n    <>\n      <button className={css.btn} onClick={loadMore}>Load more</button>\n    </>\n  );\n}\n\nexport default BtnLoadMore;\n","import React from 'react';\nimport { fetchAdverts } from 'redux/advertActions';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport CardProduct from 'components/CardProduct/CardProduct';\nimport css from './ItemProduct.module.css';\nimport { useDispatch } from 'react-redux';\n\nimport useAdvert from 'hooks/useAdvert';\nimport BtnLoadMore from 'components/Button/BtnLoadMore';\n\nfunction ItemProduct() {\n  const [page, setPage] = useState(1);\n  const [showBtn, setShowBtn] = useState(true);\n  const dispatch = useDispatch();\n  const { adverts } = useAdvert();\n\n  useEffect(() => {\n    const fetch = async () => {\n      const responseLength = await dispatch(fetchAdverts(page));\n\n      // Если длина ответа меньше 12, скрываем кнопку \"Загрузить еще\"\n      if (responseLength < 12) {\n        setShowBtn(false);\n      }\n    };\n\n    fetch();\n  }, [dispatch, page]);\n  const loadMore = () => {\n    setPage(page + 1);\n  };\n  return (\n    <>\n      <ul className={css.item}>\n        {adverts.map(advert => (\n          <CardProduct key={advert.id} advert={advert} />\n        ))}\n\n      </ul>\n      {showBtn && <BtnLoadMore loadMore={loadMore} />}\n    </>\n  );\n}\n\nexport default ItemProduct;\n","import ItemProduct from 'components/ItemProduct/ItemProduct';\n\nconst CatalogPage = () => {\n  return (\n    <>\n      <ItemProduct />\n    </>\n  );\n};\n\nexport default CatalogPage;\n"],"names":["axios","fetchAdvertsApi","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","page","pageSize","response","_args","arguments","_context","prev","next","length","undefined","concat","sent","abrupt","stop","apply","getAdvertsPending","type","GET_ADVERTS_PENDING","getAdvertsSuccess","adverts","GET_ADVERTS_SUCCESS","payload","getAdvertsFail","error","GET_ADVERTS_FAIL","fetchAdverts","dispatch","data","t0","_x","truncateString","str","maxLength","maxWords","words","split","truncated","i","trim","substring","formatMileage","mileage","toString","reverse","join","replace","advert","img","make","model","year","functionalities","rentalPrice","rentalCompany","address","formatAddress","formatAddressFunc","totalLength","_jsxs","className","css","children","_jsx","src","imgDef","alt","loading","selectAdverts","state","selectIsLoading","isLoading","selectStatus","status","selectError","useSelector","loadMore","_Fragment","onClick","_useState","useState","_useState2","_slicedToArray","setPage","_useState3","_useState4","showBtn","setShowBtn","useDispatch","useAdvert","useEffect","fetch","map","CardProduct","id","BtnLoadMore","ItemProduct"],"sourceRoot":""}